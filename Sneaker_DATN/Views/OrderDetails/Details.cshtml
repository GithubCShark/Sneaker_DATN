@model IEnumerable<Sneaker_DATN.Models.OrderDetails>
@{
    ViewData["Title"] = "Details";
}
@{ int i = 0;}

<div class="container container-modal-large modal-content">
    <div class="modal-body color-dashboard pb-5 px-5">
        <div class="col-lg-12">
            <div class="custom-detail pt-3">
                <div class="custom-icon pb-3">
                    <h4 class="main-title text-center text-uppercase mt-2 m-auto">Chi tiết đơn hàng</h4>
                    <button type="button" class="close custom-btn-modal" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                </div>
                <dl class="shadow-lg">
                    <dt class="col-sm-2">
                        Tên khách hàng
                    </dt>
                    <dd class="col-sm-10">
                        @ViewBag.order.FullName
                    </dd>
                    <dt class="col-sm-2">
                        Địa chỉ
                    </dt>
                    <dd class="col-sm-10">
                        @ViewBag.order.Address
                    </dd>
                    <dt class="col-sm-2">
                        Số điện thoại
                    </dt>
                    <dd class="col-sm-10">
                        @ViewBag.order.PhoneNumber
                    </dd>
                    <dt class="col-sm-2">
                        Email
                    </dt>
                    <dd class="col-sm-10">
                        @ViewBag.order.Email
                    </dd>
                    <dt class="col-sm-2">
                        Trạng thái
                    </dt>
                    <dd class="col-sm-10">
                        @ViewBag.order.Status
                    </dd>
                </dl>
            </div>
        </div>
        <div class="col-lg-12">
            <div class="users-table table-wrapper">
                <table class="posts-table mt-3 admin-product" enctype="multipart/form-data">
                    <thead>
                        <tr class="users-table-info">
                            <th class="col-lg-2">
                                &nbsp; &nbsp;Hình
                            </th>
                            <th class="col-lg-4">
                                Tên sản phẩm
                            </th>
                            <th class="col-lg-1">
                                Màu
                            </th>
                            <th class="col-lg-1">
                                Size
                            </th>
                            <th class="col-lg-2">
                                Số lượng
                            </th>
                            <th class="col-lg-2">
                                Giá
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var item in Model)
                        {
                            <tr>
                                <td>
                                    @foreach (var x in ViewBag.Product)
                                    {
                                        @if (x.ProductID == item.ProductID)
                                        {
                                            <img src="~/images/Product/@x.Image" style="width:100px; height:100px;" />
                                        }
                                    }
                                </td>
                                <td>
                                    @foreach (var y in ViewBag.Product)
                                    {
                                        @if (y.ProductID == item.ProductID)
                                        {
                                            @y.ProductName
                                        }
                                    }
                                </td>
                                <td>
                                    @foreach (var z in ViewBag.Color)
                                    {
                                        @if (z.ColorID == item.ColorID)
                                        {
                                            @z.Color
                                        }
                                    }
                                </td>
                                <td>
                                    @foreach (var g in ViewBag.Size)
                                    {
                                        @if (g.SizeID == item.SizeID)
                                        {
                                            @g.Size
                                        }
                                    }
                                </td>
                                <td>
                                    @item.Quantity
                                </td>
                                <td>
                                    @string.Format("{0:0,0}", item.Price)
                                </td>
                            </tr>
                            i++;
                        }
                        <tr>
                            <td>
                                <h6>Tổng</h6>
                            </td>
                            <td>
                                <h5></h5>
                            </td>
                            <td>
                                <h5></h5>
                            </td>
                            <td>
                                <h5></h5>
                            </td>
                            <td>
                                <h5></h5>
                            </td>
                            <td>
                                <p>@string.Format("{0:0,0}", ViewBag.order.Total)</p>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <h6>Giảm giá</h6>
                            </td>
                            <td>
                                <h5></h5>
                            </td>
                            <td>
                                <h5></h5>
                            </td>
                            <td>
                                <h5></h5>
                            </td>
                            <td>
                                <h5></h5>
                            </td>
                            <td>
                                <p>
                                    @if ((ViewBag.order.Total - ViewBag.order.PaymentAmount) == 0)
                                    {
                                        <span class="ml-5">0</span>
                                    }
                                    else
                                    {
                                        @string.Format("{0:0,0}", ViewBag.order.Total - ViewBag.order.PaymentAmount)
                                    }
                                </p>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <h6>Tổng tiền</h6>
                            </td>
                            <td>
                                <h5></h5>
                            </td>
                            <td>
                                <h5></h5>
                            </td>
                            <td>
                                <h5></h5>
                            </td>
                            <td>
                                <h5></h5>
                            </td>
                            <td>
                                <p>@string.Format("{0:0,0}", ViewBag.order.PaymentAmount)</p>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>